{% extends "admin/layouts/admin_base.html" %}

{% block title %}Edit Pengguna{% endblock %}

{% block page_title %}Edit Pengguna: {{ user.username }}{% endblock %}

{% block content %}
    <form method="POST" novalidate class="space-y-6 max-w-lg mx-auto py-6">
        {{ form.hidden_tag() }}

        <!-- Username -->
        <div>
            {{ form.username.label(class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-100 mb-1.5") }}
            <div class="mt-1">
                {{ form.username(class_="block w-full rounded-md border-2 border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-500 focus:ring-opacity-50 bg-transparent dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm py-2 px-3", size=32) }}
            </div>
            {% if form.username.errors %}
                <div class="mt-1.5">
                    {% for error in form.username.errors %}
                        <p class="text-xs text-red-600 dark:text-red-400">{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Email -->
        <div>
            {{ form.email.label(class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-100 mb-1.5") }}
             <div class="mt-1">
                {{ form.email(class_="block w-full rounded-md border-2 border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-500 focus:ring-opacity-50 bg-transparent dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm py-2 px-3", size=32) }}
            </div>
            {% if form.email.errors %}
                <div class="mt-1.5">
                    {% for error in form.email.errors %}
                         <p class="text-xs text-red-600 dark:text-red-400">{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Peran (Role) - Select Field -->
        <div>
            {{ form.role.label(class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-100 mb-1.5") }}
             <div class="mt-1">
                {{ form.role(class_="block w-full rounded-md border-2 border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-500 focus:ring-opacity-50 bg-transparent dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm py-2 px-3 pr-8 dark:[color-scheme:dark]") }}
            </div>
            {% if form.role.errors %}
                <div class="mt-1.5">
                    {% for error in form.role.errors %}
                         <p class="text-xs text-red-600 dark:text-red-400">{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Tombol Aksi -->
        <div class="flex items-center justify-between pt-8 mt-8 border-t border-gray-200 dark:border-gray-700">
             <a href="{{ url_for('admin.manage_users') }}"
               class="inline-flex items-center gap-x-1.5 rounded-md px-3.5 py-2 text-sm font-semibold text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600 transition-colors duration-200">
                 <svg class="-ml-0.5 h-5 w-5 text-gray-500 dark:text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                    <path fill-rule="evenodd" d="M12.79 5.23a.75.75 0 010 1.06L9.06 10l3.73 3.71a.75.75 0 11-1.06 1.06l-4.25-4.25a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0z" clip-rule="evenodd" />
                 </svg>
                Kembali
            </a>
            {{ form.submit(class_="inline-flex justify-center rounded-md bg-primary-600 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600 transition-colors duration-200") }}
        </div>
    </form>
{% endblock %}